# ATM Simulator (Симулятор Банкомата)
**Виконав:** Антончук Іван

**Група:** ІПС-21

**Начальний проект з дисципліни "Парадигма ООП"**

Цей проект є повноцінною симуляцією програмного забезпечення банкомата з графічним інтерфейсом. Програма реалізує повний цикл банківського обслуговування: від відкриття рахунку до проведення транзакцій та збору статистики.

---

## Функціональні можливості

Програма надає користувачу інтуїтивно зрозумілий інтерфейс для виконання наступних операцій:

### 1. Реєстрація та Вхід
* **Отримання нової картки:** Користувач може самостійно "відкрити рахунок" прямо в інтерфейсі. Система генерує унікальний 4-значний номер картки та прив'язує до нього введений PIN-код.
* **Авторизація:** Вхід у систему здійснюється за номером картки та PIN-кодом.
* **Валідація:** Система перевіряє існування картки в базі та правильність вводу даних.

### 2. Фінансові операції
* **Перегляд балансу:** Миттєве відображення доступних коштів.
* **Поповнення рахунку (Deposit):**
    * Емуляція купюроприймача.
    * Користувач обирає купюри (100, 200, 500 грн), які додаються до балансу клієнта.
    * Важливо: внесені купюри фізично додаються до касети банкомата (оновлюється файл конфігурації).
* **Зняття готівки (Withdraw):**
    * Реалізовано **жадібний алгоритм** (Greedy Algorithm) видачі коштів.
    * Банкомат перевіряє наявність необхідних купюр у касеті перед видачею.
    * Пріоритет видачі: спочатку великі номінали (500), потім менші (200, 100).
* **Переказ коштів (Transfer):** Можливість переказати гроші на картку іншого клієнта за її номером.

### 3. Історія та Дані
* **Історія транзакцій:** Усі дії (поповнення, зняття, переказ) записуються в особистий лог клієнта з вказанням дати та часу.
* **Збереження** Всі дані (баланси, історія, стан банкомата) зберігаються у JSON-файлах (`users.json`, `atm_config.json`) і не зникають після закриття програми.

---

## Unit Tests

Для забезпечення надійності коду було реалізовано автоматичні модульні тести з використанням фреймворку **Qt Test**. Окремий підпроект `ATM_Tests` перевіряє ключову бізнес-логіку:

| Тест | Опис перевірки | Статус |
| :--- | :--- | :--- |
| `testRegistration` | Створення нового акаунту, генерація унікального номера, збереження PIN-коду. | PASS |
| `testLogin` | Успішний вхід з правильними даними та відмова при невірному PIN/картці. | PASS |
| `testDeposit` | Коректне нарахування коштів на баланс після внесення купюр. | PASS |
| `testWithdraw` | Списання коштів, перевірка лімітів балансу та наявності купюр у банкоматі. | PASS |
| `testTransfer` | Правильність переказу: списання у відправника та зарахування отримувачу. | PASS |


---

## Документація

Проект містить повну технічну документацію коду, згенеровану автоматично за допомогою інструменту **Doxygen**.
Документація описує всі класи (`ATMController`, `BankAccount`, `MainWindow`), їх методи та архітектуру взаємодії.

**[Переглянути онлайн-документацію](https://ivanantonchuk.github.io/OOP-ATMsimulator/)**

## Порівняльна характеристика реалізації

В проекті застосовано ряд архітектурних рішень, що підвищують надійність та розширюваність системи порівняно з базовими підходами до розробки навчальних проектів.

| Критерій порівняння | Базовий (спрощений) підхід | Реалізація в ATM Simulator |
| :--- | :--- | :--- |
| **Архітектура** | Монолітна структура (весь код в одному класі або файлі). | **Патерн MVC.** Чіткий поділ на Логіку (`ATMController`), Дані (`BankAccount`) та Інтерфейс. |
| **Робота з даними** | Зберігання в оперативній пам'яті (втрата даних при виході). | **Персистентність.** Серіалізація об'єктів у JSON. Дані зберігаються між запусками. |
| **Моделювання готівки** | Абстрактний лічильник грошей ("нескінченний резерв"). | **Симуляція фізичних ресурсів.** Облік кількості купюр кожного номіналу в касеті банкомата. |
| **Інтерфейс** | Статичні форми. | **Динамічний UI.** Використання `QStackedWidget` для реалізації сценаріїв користувача. |
| **Контроль якості** | Ручне тестування. | **Автоматизоване тестування.** Покриття бізнес-логіки Unit-тестами (Qt Test). |
